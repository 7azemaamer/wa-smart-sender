<script setup>
import { ref, computed } from "vue";
import AppSEO from "@/components/common/AppSEO.vue";
import SectionHeading from "@/components/common/SectionHeading.vue";
import CopyCode from "@/components/common/CopyCode.vue";

const selectedCategory = ref("all");
const searchQuery = ref("");

const templates = ref([
  {
    id: 1,
    title: "ุฑุณุงูุฉ ุชุฑุญูุจ ููุนููุงุก ุงูุฌุฏุฏ",
    category: "welcome",
    content:
      "ุฃููุงู ูุณููุงู [ุงูุงุณู] ๐\n\nูุดูุฑู ุนูู ุงูุถูุงูู ูุนุงุฆูุฉ [ุงุณู_ุงูุดุฑูุฉ]!\n\nูุญู ููุง ูุฎุฏูุชู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ. ุฅุฐุง ูุงู ูุฏูู ุฃู ุงุณุชูุณุงุฑุ ูุง ุชุชุฑุฏุฏ ูู ุงูุชูุงุตู ูุนูุง.\n\nูุฑูู [ุงุณู_ุงูุดุฑูุฉ]",
    variables: ["ุงูุงุณู", "ุงุณู_ุงูุดุฑูุฉ"],
    usage: "ุชุฑุญูุจ",
    downloads: 1250,
  },
  {
    id: 2,
    title: "ูุชุงุจุนุฉ ุงูุนููู ุจุนุฏ ุงูุดุฑุงุก",
    category: "follow-up",
    content:
      "ูุฑุญุจุงู [ุงูุงุณู] ๐\n\nูุดูุฑู ุนูู ุซูุชู ุจูุง ูุดุฑุงุก [ุงูููุชุฌ] ุจุชุงุฑูุฎ {ุงูุชุงุฑูุฎ}.\n\nูุชููู ุฃู ุชููู ุฑุงุถูุงู ุนู ุงูููุชุฌ. ุฅุฐุง ูุงู ูุฏูู ุฃู ููุงุญุธุงุช ุฃู ุชุญุชุงุฌ ูููุณุงุนุฏุฉุ ูุญู ูู ุงูุฎุฏูุฉ!\n\nุชููููู ููููุง โญ\n\n[ุงุณู_ุงูุดุฑูุฉ]",
    variables: ["ุงูุงุณู", "ุงูููุชุฌ", "ุงูุชุงุฑูุฎ", "ุงุณู_ุงูุดุฑูุฉ"],
    usage: "ูุชุงุจุนุฉ",
    downloads: 980,
  },
  {
    id: 3,
    title: "ุนุฑุถ ุชุฑููุฌู ูุญุฏูุฏ",
    category: "promotion",
    content:
      "๐ฅ ุนุฑุถ ุฎุงุต ูู [ุงูุงุณู]!\n\nุฎุตู {ุงููุณุจุฉ}% ุนูู ุฌููุน ุงูููุชุฌุงุช\n\nโฐ ุงูุนุฑุถ ุณุงุฑู ุญุชู {ุชุงุฑูุฎ_ุงูุงูุชูุงุก}\n\nโ ุดุญู ูุฌุงูู\nโ ุถูุงู ุงูุฌูุฏุฉ\nโ ุฏูุน ุนูุฏ ุงูุงุณุชูุงู\n\nููุทูุจ: [ุฑูู_ุงููุงุชุณ]\n\n[ุงุณู_ุงูุดุฑูุฉ]",
    variables: [
      "ุงูุงุณู",
      "ุงููุณุจุฉ",
      "ุชุงุฑูุฎ_ุงูุงูุชูุงุก",
      "ุฑูู_ุงููุงุชุณ",
      "ุงุณู_ุงูุดุฑูุฉ",
    ],
    usage: "ุชุณููู",
    downloads: 2100,
  },
  {
    id: 4,
    title: "ุชุฃููุฏ ุงูุทูุจ",
    category: "order",
    content:
      "ุชู ุชุฃููุฏ ุทูุจู [ุงูุงุณู] โ\n\nุฑูู ุงูุทูุจ: {ุฑูู_ุงูุทูุจ}\nุงูููุชุฌ: {ุงูููุชุฌ}\nุงูุณุนุฑ: {ุงูุณุนุฑ} ุฑูุงู\nุงูุนููุงู: {ุงูุนููุงู}\n\n๐ฆ ุณูุชู ุงูุชุณููู ุฎูุงู 2-3 ุฃูุงู\n\n๐ฌ ููุงุณุชูุณุงุฑ: [ุฑูู_ุงูุฏุนู]\n\nุดูุฑุงู ูู,\nูุฑูู [ุงุณู_ุงูุดุฑูุฉ]",
    variables: [
      "ุงูุงุณู",
      "ุฑูู_ุงูุทูุจ",
      "ุงูููุชุฌ",
      "ุงูุณุนุฑ",
      "ุงูุนููุงู",
      "ุฑูู_ุงูุฏุนู",
      "ุงุณู_ุงูุดุฑูุฉ",
    ],
    usage: "ุทูุจุงุช",
    downloads: 750,
  },
  {
    id: 5,
    title: "ุฑุฏ ุชููุงุฆู - ุณุงุนุงุช ุงูุนูู",
    category: "auto-reply",
    content:
      "ูุฑุญุจุงู ุจู! ๐\n\nุดูุฑุงู ูุชูุงุตูู ูุน [ุงุณู_ุงูุดุฑูุฉ]\n\n๐ ุณุงุนุงุช ุงูุนูู:\nุงูุฃุญุฏ - ุงูุฎููุณ: 9:00 ุต - 6:00 ู\nุงูุฌูุนุฉ - ุงูุณุจุช: ูุบูู\n\nุณูุฑุฏ ุนูู ุฑุณุงูุชู ูู ุฃูุฑุจ ููุช ูููู ุฎูุงู ุณุงุนุงุช ุงูุนูู.\n\nููุทูุงุฑุฆ: [ุฑูู_ุงูุทูุงุฑุฆ]",
    variables: ["ุงุณู_ุงูุดุฑูุฉ", "ุฑูู_ุงูุทูุงุฑุฆ"],
    usage: "ุฑุฏ ุชููุงุฆู",
    downloads: 1600,
  },
  {
    id: 6,
    title: "ุฏุนูุฉ ูุชูููู ุงูุฎุฏูุฉ",
    category: "feedback",
    content:
      "ูุฑุญุจุงู [ุงูุงุณู] ๐\n\nูุดูุฑู ุนูู ุชุนุงููู ูุนูุง. ุฑุฃูู ููููุง!\n\nูุฑุฌู ุชูููู ุชุฌุฑุจุชู ูุนูุง:\nโญโญโญโญโญ\n\nุฃู ุดุงุฑููุง ููุงุญุธุงุชู ููุง: [ุฑุงุจุท_ุงูุชูููู]\n\nุชููููู ูุณุงุนุฏูุง ุนูู ุชุญุณูู ุฎุฏูุงุชูุง.\n\nูุน ุงูุชูุฏูุฑ,\n[ุงุณู_ุงูุดุฑูุฉ]",
    variables: ["ุงูุงุณู", "ุฑุงุจุท_ุงูุชูููู", "ุงุณู_ุงูุดุฑูุฉ"],
    usage: "ุชูููู",
    downloads: 890,
  },
]);

const categories = [
  { value: "all", label: "ุฌููุน ุงูููุงูุจ", count: templates.value.length },
  {
    value: "welcome",
    label: "ุชุฑุญูุจ",
    count: templates.value.filter((t) => t.category === "welcome").length,
  },
  {
    value: "promotion",
    label: "ุนุฑูุถ ุชุฑููุฌูุฉ",
    count: templates.value.filter((t) => t.category === "promotion").length,
  },
  {
    value: "follow-up",
    label: "ูุชุงุจุนุฉ ุงูุนููุงุก",
    count: templates.value.filter((t) => t.category === "follow-up").length,
  },
  {
    value: "order",
    label: "ุฅุฏุงุฑุฉ ุงูุทูุจุงุช",
    count: templates.value.filter((t) => t.category === "order").length,
  },
  {
    value: "auto-reply",
    label: "ุฑุฏูุฏ ุชููุงุฆูุฉ",
    count: templates.value.filter((t) => t.category === "auto-reply").length,
  },
  {
    value: "feedback",
    label: "ุชููููุงุช",
    count: templates.value.filter((t) => t.category === "feedback").length,
  },
];

const filteredTemplates = computed(() => {
  let filtered = templates.value;

  if (selectedCategory.value !== "all") {
    filtered = filtered.filter(
      (template) => template.category === selectedCategory.value
    );
  }

  if (searchQuery.value) {
    const query = searchQuery.value.toLowerCase();
    filtered = filtered.filter(
      (template) =>
        template.title.toLowerCase().includes(query) ||
        template.content.toLowerCase().includes(query) ||
        template.usage.toLowerCase().includes(query)
    );
  }

  return filtered;
});

const downloadTemplate = (template) => {
  const blob = new Blob([template.content], { type: "text/plain" });
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.style.display = "none";
  a.href = url;
  a.download = `${template.title}.txt`;
  document.body.appendChild(a);
  a.click();
  window.URL.revokeObjectURL(url);
  document.body.removeChild(a);
};
</script>

<template>
  <AppSEO
    title="ููุงูุจ ุฑุณุงุฆู ูุงุชุณุงุจ ุฌุงูุฒุฉ - WA Smart Sender"
    description="ูุฌููุนุฉ ุดุงููุฉ ูู ููุงูุจ ุฑุณุงุฆู ูุงุชุณุงุจ ุงููุญุณูุฉ ููุชุณูููุ ุฎุฏูุฉ ุงูุนููุงุกุ ูุงูุฑุฏูุฏ ุงูุชููุงุฆูุฉ. ููุงูุจ ูุฌุงููุฉ ููุงุจูุฉ ููุชุฎุตูุต."
    canonical="/templates"
    image="/og/templates.png"
  />

  <div class="py-12">
    <!-- Hero Section -->
    <section class="py-20">
      <div class="container mx-auto px-6 max-w-6xl text-center">
        <SectionHeading
          title="ููุงูุจ ุฑุณุงุฆู ูุงุชุณุงุจ ุงูุฌุงูุฒุฉ"
          subtitle="ูุฌููุนุฉ ุดุงููุฉ ูู ุงูููุงูุจ ุงููุญุณูุฉ ูุฌููุน ุงุญุชูุงุฌุงุชู ุงูุชุณููููุฉ"
          size="xl"
          class="mb-16"
        />

        <!-- Search and Filter -->
        <div class="max-w-2xl mx-auto mb-12">
          <div class="flex flex-col sm:flex-row gap-4">
            <input
              v-model="searchQuery"
              type="text"
              placeholder="ุงุจุญุซ ูู ุงูููุงูุจ..."
              class="flex-1 px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            />
            <select
              v-model="selectedCategory"
              class="px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            >
              <option
                v-for="category in categories"
                :key="category.value"
                :value="category.value"
              >
                {{ category.label }} ({{ category.count }})
              </option>
            </select>
          </div>
        </div>

        <!-- Stats -->
        <div
          class="flex flex-wrap justify-center items-center gap-8 text-gray-600 text-sm"
        >
          <div class="flex items-center">
            <i class="pi pi-file-edit text-blue-600 me-2"></i>
            {{ templates.length }}+ ูุงูุจ ูุฌุงูู
          </div>
          <div class="flex items-center">
            <i class="pi pi-download text-green-600 me-2"></i>
            7000+ ุชุญููู
          </div>
          <div class="flex items-center">
            <i class="pi pi-check-circle text-purple-600 me-2"></i>
            ุฌุงูุฒ ููุงุณุชุฎุฏุงู
          </div>
        </div>
      </div>
    </section>

    <!-- Templates Grid -->
    <section class="py-8">
      <div class="container mx-auto px-6 max-w-6xl">
        <div v-if="filteredTemplates.length === 0" class="text-center py-16">
          <i class="pi pi-search text-6xl text-gray-400 mb-6"></i>
          <h3 class="text-2xl font-semibold text-gray-700 mb-4">
            ูู ูุฌุฏ ุฃู ููุงูุจ
          </h3>
          <p class="text-gray-600 mb-6">ุฌุฑุจ ูููุงุช ุจุญุซ ุฃุฎุฑู ุฃู ุบููุฑ ุงูุชุตููู</p>
          <button
            @click="
              searchQuery = '';
              selectedCategory = 'all';
            "
            class="btn btn-primary"
          >
            <i class="pi pi-refresh me-2"></i>
            ุนุฑุถ ุฌููุน ุงูููุงูุจ
          </button>
        </div>

        <div v-else class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <article
            v-for="template in filteredTemplates"
            :key="template.id"
            class="bg-white rounded-2xl shadow-lg border hover:shadow-2xl transition-shadow"
          >
            <div class="p-8">
              <!-- Header -->
              <div class="flex items-start justify-between mb-6">
                <div class="flex-1">
                  <h3 class="text-xl font-bold text-gray-900 mb-2">
                    {{ template.title }}
                  </h3>
                  <div class="flex items-center gap-4 text-sm text-gray-600">
                    <span
                      class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full"
                    >
                      {{ template.usage }}
                    </span>
                    <span class="flex items-center">
                      <i class="pi pi-download me-1"></i>
                      {{ template.downloads }}
                    </span>
                  </div>
                </div>
              </div>

              <!-- Template Preview -->
              <div class="bg-gray-50 rounded-lg p-4 mb-6">
                <div
                  class="bg-green-500 text-white p-3 rounded-lg rounded-bl-sm max-w-xs"
                >
                  <p class="text-sm leading-relaxed whitespace-pre-line">
                    {{ template.content }}
                  </p>
                </div>
              </div>

              <!-- Variables -->
              <div
                v-if="template.variables && template.variables.length > 0"
                class="mb-6"
              >
                <h4 class="text-sm font-semibold text-gray-700 mb-3">
                  ุงููุชุบูุฑุงุช ุงููุชุงุญุฉ:
                </h4>
                <div class="flex flex-wrap gap-2">
                  <span
                    v-for="variable in template.variables"
                    :key="variable"
                    class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium"
                  >
                    [{{ variable }}]
                  </span>
                </div>
              </div>

              <!-- Actions -->
              <div class="flex gap-3">
                <button
                  @click="downloadTemplate(template)"
                  class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center"
                >
                  <i class="pi pi-download me-2"></i>
                  ุชุญููู ุงููุงูุจ
                </button>
                <button
                  class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors"
                >
                  <i class="pi pi-eye"></i>
                </button>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section class="py-20 bg-gray-50">
      <div class="container mx-auto px-6 max-w-6xl">
        <SectionHeading
          title="ููููุฉ ุงุณุชุฎุฏุงู ุงูููุงูุจ"
          subtitle="ุฎุทูุงุช ุจุณูุทุฉ ูุชุฎุตูุต ูุงุณุชุฎุฏุงู ุงูููุงูุจ ูู ุญููุงุชู"
          class="mb-16"
        />

        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div class="text-center">
            <div
              class="w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"
            >
              <i class="pi pi-download"></i>
            </div>
            <h3 class="text-lg font-semibold mb-2">1. ุญููู ุงููุงูุจ</h3>
            <p class="text-gray-600 text-sm">
              ุงุฎุชุฑ ุงููุงูุจ ุงูููุงุณุจ ูุญูููู ุนูู ุฌูุงุฒู
            </p>
          </div>

          <div class="text-center">
            <div
              class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"
            >
              <i class="pi pi-edit"></i>
            </div>
            <h3 class="text-lg font-semibold mb-2">2. ุฎุตูุต ุงููุญุชูู</h3>
            <p class="text-gray-600 text-sm">
              ุนุฏูู ุงููุต ูุฃุถู ูุชุบูุฑุงุช ุญุณุจ ุงุญุชูุงุฌุงุชู
            </p>
          </div>

          <div class="text-center">
            <div
              class="w-16 h-16 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"
            >
              <i class="pi pi-upload"></i>
            </div>
            <h3 class="text-lg font-semibold mb-2">3. ุงุฑูุน ูู WAS</h3>
            <p class="text-gray-600 text-sm">
              ุงุณุชูุฑุฏ ุงููุงูุจ ูู WA Smart Sender
            </p>
          </div>

          <div class="text-center">
            <div
              class="w-16 h-16 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl"
            >
              <i class="pi pi-send"></i>
            </div>
            <h3 class="text-lg font-semibold mb-2">4. ุฃุฑุณู ุงูุญููุฉ</h3>
            <p class="text-gray-600 text-sm">
              ุงุจุฏุฃ ุญููุชู ูุงุญุตู ุนูู ูุชุงุฆุฌ ุฑุงุฆุนุฉ
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Variables Guide -->
    <section class="py-20">
      <div class="container mx-auto px-6 max-w-4xl">
        <SectionHeading
          title="ุฏููู ุงููุชุบูุฑุงุช"
          subtitle="ุชุนุฑู ุนูู ููููุฉ ุงุณุชุฎุฏุงู ุงููุชุบูุฑุงุช ูุชุฎุตูุต ุฑุณุงุฆูู"
          class="mb-12"
        />

        <div class="bg-white rounded-2xl shadow-lg border p-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-lg font-semibold mb-4">ุงููุชุบูุฑุงุช ุงูุฃุณุงุณูุฉ</h3>
              <CopyCode
                :code="`[ุงูุงุณู] - ุงุณู ุงูุนููู
[ุงูุดุฑูุฉ] - ุงุณู ุดุฑูุฉ ุงูุนููู
[ุงูููุชุฌ] - ุงุณู ุงูููุชุฌ
[ุงูุณุนุฑ] - ุณุนุฑ ุงูููุชุฌ
[ุงููุงุชู] - ุฑูู ูุงุชู ุงูุนููู`"
                language="ูุชุบูุฑุงุช"
              />
            </div>

            <div>
              <h3 class="text-lg font-semibold mb-4">ูุชุบูุฑุงุช ุงูุชุงุฑูุฎ ูุงูููุช</h3>
              <CopyCode
                :code="`{ุงูุชุงุฑูุฎ} - ุงูุชุงุฑูุฎ ุงูุญุงูู
{ุงูููุช} - ุงูููุช ุงูุญุงูู
{ุงูููู} - ุงุณู ุงูููู
{ุงูุดูุฑ} - ุงุณู ุงูุดูุฑ
{ุงูุณูุฉ} - ุงูุณูุฉ ุงูุญุงููุฉ`"
                language="ุชูุงุฑูุฎ"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Custom Template Request -->
    <section
      class="py-20 bg-gradient-to-r from-blue-600 to-blue-800 text-white"
    >
      <div class="container mx-auto px-6 max-w-4xl text-center">
        <h2 class="text-3xl font-bold mb-6">ุชุญุชุงุฌ ูุงูุจ ูุฎุตุตุ</h2>
        <p class="text-xl mb-8 opacity-90">
          ูุฑูููุง ูููู ุฃู ููุดุฆ ูู ููุงูุจ ูุฎุตุตุฉ ุชูุงุณุจ ูุดุงุทู ุงูุชุฌุงุฑู ุชูุงูุงู
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="/contact"
            class="btn bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg"
          >
            <i class="pi pi-envelope me-2"></i>
            ุงุทูุจ ูุงูุจ ูุฎุตุต
          </a>
          <a
            href="/guides"
            class="btn border-2 border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg"
          >
            <i class="pi pi-book me-2"></i>
            ุชุนูู ุฅูุดุงุก ุงูููุงูุจ
          </a>
        </div>
      </div>
    </section>
  </div>
</template>
